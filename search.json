[{"title":"vue之项目打包成apk","url":"/2019/12/15/vue之项目打包成apk/","content":"\n##### 1.第一步（重要）\n\n登录阿里云在远程服务器添加一个4000端口 ***\n\n修改服务器上：C:\\Windows\\System32\\drivers\\etc中的hosts文件\n\n```\n172.24.42.8     localhost\n```\n\n注意：前者：服务器内网     后者：接口运行为：localhost:4000\n\n***在服务器端运行接口：node app(localhost:4000)与第三步对应***\n\n##### 2.第二步\n\n \t修改vue.config.js中的publicPath(解决资源找不到路径问题)\n\n```\n  publicPath: process.env.NODE_ENV === 'production'\n      ? './cli-study/dist'\n      : '/'\n```\n\n##### 3.第三步\n\n打包成app不存在跨域访问的问题\n\n```\n axios.defaults.baseURL = \"http://39.105.27.132:4000\"\n 注意：39.105.27.132是服务器的公网。\n      4000后端接口的端口号\n```\n\n##### 4.第四步\n\n执行 npm run build 打包 成dist\t\n\n##### 5.第五步\n\n打开hbuilder\n\n​    1.文件+新建+移动App（项目名）\n\n​    2.把项目中除了.project 和manifest.json的所有文件删除\n\n​    3.把dist中的文件拷贝到项目中\n\n#####   6.第六步\n\n 配置manifest.json文件\n\n​     修改应用信息\n\n​     修改图标配置\n\n​      修改启动图片\n\n#####   7.第七步\n\n​\t打包发行\n\n​    项目右键+发行\n\n#####   8.第八步\n\n​\t拷贝apk ,安装\n\n\n\n","tags":["项目打包"]},{"title":"vue之使用Apache服务器对项目进行上线","url":"/2019/11/15/vue之使用Apache服务器进行项目上线/","content":"\n##### 1.第一步\n\n项目npm run build 生成dist目录\n\n注意：把mui 中的所有svg注释掉\n\n##### 2.第二步\n\n解压Apache\n\n![img](/img/01/Apache.png) \n\n在Apache的bin目录下执行：httpd -t 查看是否出错\n\n##### 3.第三步（以下均在服务端操作）\n\n修改Apache下的conf下的httpd.conf配置文件\n\n37行 Define SRVROOT \"E:/Apache\"\n\n39行 ServerRoot \"E:/Apache\"\n\n59行 \\#Listen 12.34.56.78:80\n\n60行  Listen 8010\n\n61行   Listen 8020\n\n142行  LoadModule proxy_module modules/mod_proxy.so\n\n151行  LoadModule proxy_http_module modules/mod_proxy_http.so\n\n 225行 ServerName localhost:8888\n\n 233行 Options Indexes FollowSymLinks\n\n  234行 AllowOverride None\n\n  235行 Order allow,deny\n\n  236行 Allow from all\n\n  251行  DocumentRoot \"C:\\\\\"\n\n  252行  <Directory \"C:\\\\\">\n\n##### 4.第四步\n\n​\t把dist中的文件拷贝到E:/webapp中\n\n##### 5.第五步\n\n​    在Apache的bin目录下执行：\n\n​     安装：$ httpd.exe -k install -n \"Apache\"\n\n​\t  卸载：$ httpd.exe -k uninstall -n \"Apache\"\n\n​      Win+R: services.msc启动或停止Apache服务器。\n\n#####   6.第六步\n\n​       在浏览器中输入localhost:8010查看网页显示\n\n#####   7.第七步\n\n​\t\t配置Apache虚拟目录（允许Apache运行多个项目）\n\n​        509行： \\# Virtual hosts\n\n​         510行：Include conf/extra/httpd-vhosts.conf（打开）\n\n#####   8.第八步(配置反向代理)\n\n```\n  <VirtualHost *:8010> \n\n  DocumentRoot \"E:/webapp\"\n\n  <Directory \"E:/webapp\">\n\n​    Options FollowSymLinks Indexes \n\n​    AllowOverride none\n\n​    Require all granted\n\n  </Directory>\n\n  Proxyrequests off\n\n  <Proxy *>\n\n​    \\#规定Deny,Allow的执行顺序, Order Deny,Allow ： 先执行Deny，再执行Allow\n\n​    Order Deny,Allow\n\n​    \\#全部禁止访问 取值：all none 指定ip\n\n​    Allow from All\n</Proxy>\n        #配置反向代理\n\t\tProxyPass /cellphone http://172.24.42.8:4000/cellphone\n\t\tProxyPass /banner http://172.24.42.8:4000/banner\n\t\tProxyPass /user http://172.24.42.8:4000/user\n\t\tProxyPass /like http://172.24.42.8:4000/like\n\t\tProxyPass /likelist http://172.24.42.8:4000/likelist\n\t\tProxyPass /search http://172.24.42.8:4000/search\n\t\tProxyPass /personalized http://172.24.42.8:4000/personalized\n\t\tProxyPass /playlist http://172.24.42.8:4000/playlist\n\t\tProxyPass /lyric http://172.24.42.8:4000/lyric\n\t\tProxyPass /top http://172.24.42.8:4000/top\n\t\tProxyPass /toplist http://172.24.42.8:4000/toplist\n\t\tProxyPass /comment http://172.24.42.8:4000/comment\n\t\tProxyPass /artist http://172.24.42.8:4000/artist\n\t\tProxyPass /artists http://172.24.42.8:4000/artists\n\t\tProxyPass /song http://172.24.42.8:4000/song\n\n</VirtualHost>\n\n<VirtualHost *:8020> \n\n  DocumentRoot \"E:/webapp1\"\n\n  <Directory \"E:/webapp1\">\n\n​    Options FollowSymLinks Indexes \n\n​    AllowOverride none\n\n​    Require all granted\n\n  </Directory>\n\n  Proxyrequests off\n\n  <Proxy *>\n\n​    \\#规定Deny,Allow的执行顺序, Order Deny,Allow ： 先执行Deny，再执行Allow\n\n​    Order Deny,Allow\n\n​    \\#全部禁止访问 取值：all none 指定ip\n\n​    Allow from All\n\n  </Proxy>\n\n​    \\#配置反向代理\n\n  ProxyPass /cats http://api.zhuishushenqi.com/cats\n\n  ProxyPass /book http://api.zhuishushenqi.com/book\n\n  ProxyPass /post http://api.zhuishushenqi.com/post\n\n  ProxyPass /ranking http://api.zhuishushenqi.com/ranking\n\n  ProxyPass /btoc http://api.zhuishushenqi.com/btoc\n\n  ProxyPass /atoc http://api.zhuishushenqi.com/atoc\n\n  ProxyPass /chapter http://chapter2.zhuishushenqi.com/chapter \n</VirtualHost>\n```\n\n注意：\n\n在C:\\Windows\\System32\\drivers\\etc的hosts中添加\n\n​        172.24.42.8(服务器ip)     smallan.top（域名）\n\n#####  9.访问\n\n​\t  smllant.top:8010   smllant.top:8020\n\n#####  10.解决首屏加载比较慢的问题\n\n1.打开 httpd.conf配置文件中下面两个模块的注释\n\n\\#LoadModule deflate_module modules/mod_deflate.so\n\n\\#LoadModule headers_module modules/mod_headers.so\n\n \n\n2.在httpd.conf配置文件最下面添加\n\n<IfModule deflate_module>\n\n  SetOutputFilter DEFLATE\n\n  DeflateCompressionLevel 9\n\n</IfModule>","tags":["上线"]},{"title":"vue之moment和vuex之persistedstate","url":"/2019/09/20/vue之moment和vuex之persistedstate/","content":"\n#### moment作用：时间格式化\n\n##### 1.安装\n\n```\nnpm install moment --save\n```\n\n##### 2.Main.js引入\n\n```\nimport moment from 'moment'\n\n// 定义全局的过滤器\n\nVue.filter('dateFormat', function (dataStr, pattern = \"YYYY-MM-DD HH:mm:ss\") {\n\n return moment(dataStr).format(pattern)\n\n})\n```\n\n##### 3.组件中按需使用\n\n```\nitem.time | dateFormat('mm:ss')\n```\n\n\n\n#### vuex-persistedstate：解决刷新数据消失的问题\n\n#####  1. 安装\n\n```\nnpm install vuex-persiste\n```\n\ndstate --savepersisitedstatepp\n\n##### 2. 引入及配置\n\n```\nimport createPersistedState from \"vuex-persistedstate\"\n\nconst store = new Vuex.Store({\n\n // ...\n\n plugins: [createPersistedState()]\n\n})\n```\n\n","tags":["vue"]},{"title":"vuex之四个辅助函数的使用","url":"/2019/09/18/vuex之四个辅助函数的使用/","content":"\n##### 1.在Store (Index.js)中定义state,mutations,actions和getters\n\n```\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport createPersistedstate from 'vuex-persistedstate'\n\nVue.use(Vuex)\nexport default new Vuex.Store({\n  state: {\n    playList: [],\n  \n  },\n  mutations: {    \n    setPlayList(state, list) {\n      state.playList = list\n    },\n  },\n  actions: {\n    selectPlay({commit, state}, {list, index}){\n      commit('setSequenceList', list)\n      commit('setPlayList', list)\n      commit('setCurrentIndex',index)\n      commit('setPlayState', true)\n    }\n  },\n  getters: {\n    playList: function (state) {\n      return state.playList\n    },\n   \n})\n```\n\n##### 2.页面引入\n\n```\nimport { mapGetters, mapMutations, mapActions,mapState } from \"vuex\";\nexport default {\n  computed: {\n    ...mapGetters([\n      \"playList\",  \n]),\nmethods: {\n    ...mapMutations({\n       setPlayList: \"setPlayList\"\n    }),\n    ...mapActions([\"selectPlay\"])\n  },\n}\n```\n\n#####  3.页面直接使用\n\n```\nthis.playList\nthis.setPlayList(songlist);\nthis.selectPlay({\n          list: this.recommondLists,\n          index\n        })\n    },\n```\n\n```\n...mapGetters和mapState在computed中使用\n...mapAction和mapMutation 在methods中使用\n```\n\n","tags":["vuex"]},{"title":"vue之v-for列表实现active样式切换","url":"/2019/09/15/vue之v-for列表实现active样式的切换/","content":"\n##### v-for列表实现active 样式切换\n\n```\n<template>\n  <div class=\"page-navbar\">\n    <ul>\n      <li\n        v-for=\"(item,index) in musicTypes\"\n        :key=\"index\"\n        @click=\"addClass(index)\"\n        :class=\"{ bgColors:index==current}\"\n      >{{item.name}}</li>\n    </ul>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      current: 0,\n      musicTypes: [\n        {\n          name: \"华语\",\n          code: 1001,\n          id: 1\n        },\n        {\n          name: \"欧美\",\n          code: 2002,\n          id: 2\n        },\n        {\n          name: \"韩国\",\n          code: 7001,\n          id: 3\n        },\n        {\n          name: \"日本\",\n          code: 6002,\n          id: 4\n        }\n      ]\n    };\n  },\n  methods: {\n    addClass: function(index) {\n      this.current = index;\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n// 地区分类\nul {\n  z-index: 2000;\n\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.5);\n  li {\n    list-style: none;\n    float: left;\n    margin-left: 20px;\n    font-size: 16px;\n    color: rgba(255, 255, 255, 0.5);\n  }\n}\n.bgColors {\n  color: #ff5700 !important;\n}\n.ul a {\n  font-size: 16px;\n}\n</style>\n```\n\n##### 结果为\n\n![img](/img/01/active1.png) ","tags":["vue"]},{"title":"React之使用Apache服务器对项目打包构建","url":"/2019/05/15/React之使用Apache服务器进行项目上线 /","content":"\n##### 1.第一步\n\n在package.json里加 \"homepage\":\".\" （否则路径会发生错误）\n\n项目npm run build 生成build目录\n\n##### 2.第二步\n\n解压Apache\n\n![img](/img/01/Apache.png) \n\n在Apache的bin目录下执行：httpd -t 查看是否出错\n\n##### 3.第三步（以下均在服务器端操作）\n\n修改Apache下的conf下的httpd.conf配置文件\n\n37行 Define SRVROOT \"E:/Apache\"\n\n39行 ServerRoot \"E:/Apache\"\n\n59行 \\#Listen 12.34.56.78:80\n\n60行  Listen 8030\n\n142行  LoadModule proxy_module modules/mod_proxy.so\n\n151行  LoadModule proxy_http_module modules/mod_proxy_http.so\n\n 225行 ServerName localhost:8888\n\n 233行 Options Indexes FollowSymLinks\n\n  234行 AllowOverride None\n\n  235行 Order allow,deny\n\n  236行 Allow from all\n\n  251行  DocumentRoot \"C:\\\\\"\n\n  252行  <Directory \"C:\\\\\">\n\n##### 4.第四步\n\n​\t把build中的文件拷贝到E:/webapp中\n\n##### 5.第五步\n\n​    在Apache的bin目录下执行：\n\n​     安装：$ httpd.exe -k install -n \"Apache\"\n\n​\t  卸载：$ httpd.exe -k uninstall -n \"Apache\"\n\n​      Win+R: services.msc启动或停止Apache服务器。\n\n#####   6.第六步\n\n​       在浏览器中输入localhost:8030查看网页显示\n\n#####   7.第七步(可允许多个项目)\n\n​\t\t配置Apache虚拟目录（允许Apache运行多个项目）\n\n​        509行： \\# Virtual hosts\n\n​         510行：Include conf/extra/httpd-vhosts.conf（打开）\n\n#####   8.第八步(配置反向代理)\n\n```\n  <VirtualHost *:8030> \n    DocumentRoot \"C:/webapp3\"\n\t<Directory \"C:/webapp3\">\n\t\tOptions FollowSymLinks Indexes \n\t\tAllowOverride none\n\t\tRequire all granted\n\t</Directory>\n\tProxyrequests off\n\t<Proxy *>\n\t\t#规定Deny,Allow的执行顺序, Order Deny,Allow ： 先执行Deny，再执行Allow\n        Order Deny,Allow\n        #全部禁止访问 取值：all none 指定ip\n        Allow from All\n\t</Proxy>\n        #配置反向代理\n\t\tProxyPass /api http://172.24.42.8:3001/api     (服务器ip)\n\t\tProxyPass /IPShare http://ip.360.cn/IPShare\t\n</VirtualHost>\n\n```\n\n注意：\n\n在C:\\Windows\\System32\\drivers\\etc的hosts中添加\n\n​             172.24.42.8(服务器ip)     smallan.top（域名）\n\n#####  9.访问\n\n​\t         smllant.top:8030\n\n","tags":["上线"]},{"title":"动画demo通过github访问","url":"/2016/11/20/动画demo通过github搭建访问/","content":"\n#### **1.**  新建一个远程仓库\n\n![img](/img/01/wps1.jpg) \n\n#### 2. 在animations仓库setting中随意选择一个主题\n\n![img](/img/01/wps2.jpg) \n\n#### 3. 通过仓库的首页\n\n   通过 https://smallantcxq.github.io/animations/可访问：\n\n![img](/img/01/wps3.jpg) \n\n\n\n如下：\n\n![img](/img/01/wps4.jpg) \n\n#### 4. 在本地创建文件夹空文件夹（animat）映射仓库\n\n 在animat中打开git Bash命令行\n\ngit clone git@github.com:smallAntcxq/animations.git\n\n#### 5. 删除animat中的除.git文件外的所有文件(.git为隐藏文件)\n\n在此路径下执行\n\n$ git add *\n\n$ git commit -m 'del'\n\n$ git push origin master\n\n这时执行 https://smallantcxq.github.io/animations/显示404\n\n#### 6. 在animations中加入想要展示的页面\n\n![img](/img/01/wps5.jpg) \n\n执行：\n\n$ git add *\n\n$ git commit -m 'del'\n\n$ git push origin master\n\n#### 7. 结果为：\n\n![img](/img/01/wps6.jpg)\n\n#### 8. 这时通过以下可访问\n\nhttps://smallantcxq.github.io/animations/3d.html\n\nhttps://smallantcxq.github.io/animations/sky.html\n\nhttps://smallantcxq.github.io/animations/game.html","tags":["搭建步骤"]}]